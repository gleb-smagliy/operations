# Operations
Requires yarn and unix-like shell (to support `&` operator correctly) as a prerequisite. To quickly start just run
```
yarn
```
And then in the 1st terminal (or tmux session):
```
yarn start:api
```
In the second:
```
yarn start:ui
```

## Arhitecture

This application contains 3 packages:
* `packages/api`. Reponsible for an http api handling and task processing
* `packages/api.client`. Autogenerated typescript client for the api
* `packages/ui`. UI of the application

### API
API contains 2 applications:
* Processing (entry point - `src/processing.ts`). By default runs on port 3040. Handles background processing with `@nestjs/schedule` - marks InProgress operations as either Done or Failed
* API (entry point - `src/api.ts`). By default runs on port 3030. Handles API requests by using `@nestjsx/crud`. Supports pagination. Exposes __Swagger UI__ on the http://localhost:3030/api

Modules are seggregated by applications and also contain common modules:
* database. Provides sqlite driver to other modules and incapsulates db configuration
* operation. Contains common entites and bussines logic - basically Domain Model.

#### API's test coverage

* API itself is covered by e2e tests
* Domain model is convered by unit tests
* Processing is covered by unit tets

### API.Client
Api client is strictly type and autogenerated from an api swagger spec
To regenerate client run `yarn generate` inside `api.client` directory.

### UI

UI utilizes `material-ui` as well as `redux-toolkit` to fetch data. Structured by components and containers. Components are responsible for rendering while containers are responsible for data fetching and state management. UI supports pagination and operation status polling.

